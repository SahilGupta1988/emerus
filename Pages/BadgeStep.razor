@using Emerus.ETM.Admin.Pages
@attribute [Authorize(Roles = "Approver,Requestor")]

<div class="card-section">
    <h5>Badge Request</h5>

    <div class="form-check form-switch mb-2">
        <input class="form-check-input" type="checkbox" id="NeedsBadge" @bind="Model.NeedsBadge" />
        <label class="form-check-label" for="NeedsBadge">Request building access badge</label>
    </div>

    <p class="text-muted small mb-3">
        Toggle to request a physical badge. When disabled, facility and access level are read-only.
    </p>

    <div class="row g-3">
        <div class="col-md-6">
            <label class="form-label" for="PrimaryFacility">Facility</label>
            <input id="PrimaryFacility"
                   class="form-control"
                   placeholder="Primary facility or campus"
                   @bind="Model.PrimaryFacility"
                   disabled="@(Model.NeedsBadge == false)" />
        </div>

        <div class="col-md-6">
            <label class="form-label" for="RequestType">Access Level / Request Type</label>
            <InputSelect id="RequestType" class="form-select" @bind-Value="Model.RequestType" disabled="@(Model.NeedsBadge == false)">
                <option value="">Select access level</option>
                <option value="Contingent">Contingent</option>
                <option value="Clinician">Clinician</option>
                <option value="Vendor">Vendor</option>
            </InputSelect>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public OnboardingNew.BadgeModel Model { get; set; } = default!;
}
